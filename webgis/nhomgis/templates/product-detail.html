{% extends 'layout.html' %}
{% load static %}
{% load humanize %} {% block content %}
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">
                <img src="{{ product.image_url|default:'https://via.placeholder.com/600' }}" 
                     class="img-fluid rounded shadow w-100" 
                     alt="{{ product.name }}">
            </div>

            <div class="col-md-6">
                <h2 class="fw-bold">{{ product.name }}</h2>
                
                <span class="badge bg-warning text-dark mb-3">
                    {{ product.category.name|default:"Vật liệu xây dựng" }}
                </span>
                
                <h3 class="text-danger fw-bold mb-3">
                    {{ product.price|intcomma }} VNĐ / {{ product.unit }}
                </h3>
                
                <p class="fs-5 text-secondary">{{ product.description }}</p>
                
                <p>Kho còn: <strong>{{ product.stock_quantity }}</strong></p>
                
                <hr>
                
                <form action="{% url 'cart_add' %}" method="post" class="d-flex align-items-center gap-3">
                    
                    {% csrf_token %}
                    
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    
                    <div class="input-group w-25">
                        <span class="input-group-text">SL</span>
                        <input type="number" name="quantity" value="1" min="1" class="form-control text-center">
                    </div>
                    
                    <button type="submit" class="btn btn-success btn-lg flex-grow-1">
                        <i class="bi bi-cart-plus"></i> Thêm vào giỏ hàng
                    </button>
                </form>
                
                <a href="{% url 'home' %}" class="btn btn-link mt-3 text-decoration-none">
                    <i class="bi bi-arrow-left"></i> Quay lại mua sắm
                </a>
            </div>
        </div>
    </div>
{% endblock %}